<html>
<head>
<META name="description" content="WGR614">
<META http-equiv="Content-Type" content="text/html; charset=gb2312">
<META http-equiv="Pragma" content="no-cache">
<META HTTP-equiv="Cache-Control" content="no-cache">

<title>以太网</title>
<link rel="stylesheet" href="form1.css" type="text/css">
<STYLE TYPE="text/javascript">
	classes.num.all.fontFamily = "Courier";
	classes.num.all.fontSize = "10pt" ;
</style>
		<script language="javascript" type="text/javascript" src="func.js"></script>
		<script language="javascript" type="text/javascript" src="msg.js"></script>
		<script language="javascript" type="text/javascript" src="utility.js"></script>
		<script language="javascript" type="text/javascript" src="browser.js"></script>
		<script language="javascript" type="text/javascript">
<!-- hide script from old browsers
var DisableFixedIP = false;
var DisableFixedDNS = false;

function goTestApply()
{
	var winoptions = "width=640,height=480,menubar=yes,toolbar=yes,status=yes,location=yes,resizable=yes";
	if(document.forms[0].runtest.value == "yes")
		window.open('BAS_wtest_d.htm','test_win',winoptions);
}

function loadcheck(){
    loadhelp('WIZ_fix');
	if(isIE()){
	}
}

function loadhelp(fname,anchname) 
{
/*
    if (top.helpframe != null)
    {
        if ((loadhelp.arguments.length == 1 ) || (anchname == "" ))
        	top.helpframe.location.href=fname+"_h.htm";
        else
        	top.helpframe.location.href=fname+"_h.htm#" + anchname;
	}
*/
}

function checkData()
{
	var cf = document.forms[0];
	var msg = "";

	if(checkIP(cf.WPethr1,cf.WPethr2,cf.WPethr3,cf.WPethr4,254)||(parseInt(cf.WPethr4.value)==0))
		msg+= "IP地址无效，请重新输入！\n";
	if(checkIP(cf.WMask1,cf.WMask2,cf.WMask3,cf.WMask4,255))
		msg+= "子网掩码无效，请重新输入！\n";
	if(checkIP(cf.WGateway1,cf.WGateway2,cf.WGateway3,cf.WGateway4,254)||(parseInt(cf.WGateway4.value)==0))
		msg+= "网关地址无效，请重新输入!\n";
	if(checkIP(cf.DAddr1,cf.DAddr2,cf.DAddr3,cf.DAddr4,254)||(parseInt(cf.DAddr4.value)==0))
		msg+= "首选域名服务器地址无效，请重新输入！\n";
	/* if(cf.PDAddr1.value.length>0)
	    if(checkIP(cf.PDAddr1,cf.PDAddr2,cf.PDAddr3,cf.PDAddr4,254)||(parseInt(cf.PDAddr4.value)==0))
		msg+= "备用域名服务器地址无效，请重新输入！\n"; */
                
	if (msg.length > 1)
	{
		alert(msg);
		return false;
	}

	cf.WANIPethr.value = cf.WPethr1.value+'.'+cf.WPethr2.value+'.'+cf.WPethr3.value+'.'+cf.WPethr4.value;
	cf.WANMask.value = cf.WMask1.value+'.'+cf.WMask2.value+'.'+cf.WMask3.value+'.'+cf.WMask4.value;
	cf.WANGateway.value = cf.WGateway1.value+'.'+cf.WGateway2.value+'.'+cf.WGateway3.value+'.'+cf.WGateway4.value;
	cf.DNSAddr1.value = cf.DAddr1.value+'.'+cf.DAddr2.value+'.'+cf.DAddr3.value+'.'+cf.DAddr4.value;
	cf.DNSAddr2.value = cf.PDAddr1.value+'.'+cf.PDAddr2.value+'.'+cf.PDAddr3.value+'.'+cf.PDAddr4.value;        
        
	return true;
}

function RunTest() {
	var cf = document.forms[0];
	if(checkData()) {
		cf.DoTest.value="yes";
		return true;
	} else {
		return false;
	}
}

function loadSettings()
{
	var cf = document.forms[0];
	var WANIPethr = cf.WANIPethr.value.split(".");
	var WANMask = cf.WANMask.value.split(".");
	var WANGateway = cf.WANGateway.value.split(".");
	var DNSAddr1 = cf.DNSAddr1.value.split(".");
	var DNSAddr2 = cf.DNSAddr2.value.split(".");

	cf.WPethr1.value = WANIPethr[0];
	cf.WPethr2.value = WANIPethr[1];
	cf.WPethr3.value = WANIPethr[2];
	cf.WPethr4.value = WANIPethr[3];
	cf.WMask1.value = WANMask[0];
	cf.WMask2.value = WANMask[1];
	cf.WMask3.value = WANMask[2];
	cf.WMask4.value = WANMask[3];
	cf.WGateway1.value = WANGateway[0];
	cf.WGateway2.value = WANGateway[1];
	cf.WGateway3.value = WANGateway[2];
	cf.WGateway4.value = WANGateway[3];

	if (cf.DNSAddr1.value != "")
	{
	    cf.DAddr1.value = DNSAddr1[0];
	    cf.DAddr2.value = DNSAddr1[1];
	    cf.DAddr3.value = DNSAddr1[2];
	    cf.DAddr4.value = DNSAddr1[3];
	}
	if (cf.DNSAddr2.value != "")
	{
	    cf.PDAddr1.value = DNSAddr2[0];
	    cf.PDAddr2.value = DNSAddr2[1];
	    cf.PDAddr3.value = DNSAddr2[2];
	    cf.PDAddr4.value = DNSAddr2[3];
	}
}

//-->
</script>
</head>
<!-- <body bgcolor="#ffffff" onload="loadSettings();loadcheck();document.forms[0].elements[0].focus();goTestApply();"> -->
<!-- <body bgcolor="#ffffff" onload="loadSettings();loadcheck();goTestApply();"> -->
<body bgcolor="#ffffff" >
<!--
<form name="formname" method="POST" action="wiz_fix2.cgi"> 
-->

<form name="formname" method="POST" action="cgi-bin/TraceWanDet.cgi">
	<input type="hidden" name="Load" value="W">
	<input type="hidden" name="page" value="Blank_wizard_ipfixed.html">
	<input type="hidden" name="WANAssign" value="Fixed">
	<input type="hidden" name="runtest" value="no">
	<input type="hidden" name="Encap" value="0">
	<input name="WANIPethr" type=hidden value= "0.0.0.0">
	<input name="WANMask" type=hidden value= "0.0.0.0">
	<input name="WANGateway" type=hidden value= "0.0.0.0">
	<input name="DNSAssign" type=hidden value= "Fixed">
	<input name="DNSAddr1" type=hidden value= "0.0.0.0">
	<input name="DNSAddr2" type=hidden value= "">
	<input type="hidden" name="DoTest" value="">

<table border="0" cellpadding="0" cellspacing="3" width="99%">
<tr>
<td colspan="2"><h1>静态 IP（固定）地址</h1></td>
</tr>

<tr><td>您的因特网服务提供了静态（固定）IP设置。
<p>
所有静态IP设置均需输入正确的IP地址。 例如，网关地址栏输入的IP地址就一定不能和IP地址栏内输入的IP地址相混淆。
</td></tr>

<tr> <!-- RULE -->
 <TD NOWRAP colspan="2" background="img/liteblue_1.gif" height="12"> &nbsp;</td>
</tr>
<tr>
	<td colspan="2" nowrap><a href="javascript:loadhelp('WIZ_fix','InternetIP')" tabindex="-1"><b>因特网IP地址</b></a></td>
</tr>
<tr>
	<TD NOWRAP>IP 地址</td>
	<TD NOWRAP align="right" class="num">
	<!-- <img src="spacer.gif" width="200" height="1" border=0>  -->
	<br>
 <input type="text" name="WPethr1" class="num" size="4" maxlength="3" tabindex="7" value="<% field_nvram_get("wan_ipaddr", ".", "1"); %>" >.<input type="text" name="WPethr2" class="num" size="4" maxlength="3" tabindex="8" value="<% field_nvram_get("wan_ipaddr", ".", "2"); %>" >.<input type="text" name="WPethr3" class="num" size="4" maxlength="3" tabindex="9" value="<% field_nvram_get("wan_ipaddr", ".", "3"); %>" >.<input type="text" name="WPethr4" class="num" size="4" maxlength="3" tabindex="10" value="<% field_nvram_get("wan_ipaddr", ".", "4"); %>" ></td>
</tr>
<tr>
	<TD NOWRAP>IP子网掩码</td>
	<TD NOWRAP align="right" class="num"><input type="text" name="WMask1" class="num" size="4" maxlength="3" tabindex="11" value="<% field_nvram_get("wan_netmask", ".", "1"); %>" >.<input type="text" name="WMask2" class="num" size="4" maxlength="3" tabindex="12" value="<% field_nvram_get("wan_netmask", ".", "2"); %>" >.<input type="text" name="WMask3" class="num" size="4" maxlength="3" tabindex="13" value="<% field_nvram_get("wan_netmask", ".", "3"); %>" >.<input type="text" name="WMask4" class="num" size="4" maxlength="3" tabindex="14" value="<% field_nvram_get("wan_netmask", ".", "4"); %>" ></td>
</tr>
<tr>
	<TD NOWRAP>网关IP地址</td>
	<TD NOWRAP align="right" class="num"><input type="text" name="WGateway1" class="num" size="4" maxlength="3" tabindex="15" value="<% field_nvram_get("wan_gateway", ".", "1"); %>" >.<input type="text" name="WGateway2" class="num" size="4" maxlength="3" tabindex="16" value="<% field_nvram_get("wan_gateway", ".", "2"); %>" >.<input type="text" name="WGateway3" class="num" size="4" maxlength="3" tabindex="17" value="<% field_nvram_get("wan_gateway", ".", "3"); %>" >.<input type="text" name="WGateway4" class="num" size="4" maxlength="3" tabindex="18" value="<% field_nvram_get("wan_gateway", ".", "4"); %>" ></td>
</tr>
<tr> <!-- RULE -->
 <TD NOWRAP colspan="2" background="img/liteblue_1.gif" height="12"> &nbsp;</td>
</tr>
<tr>
	<TD NOWRAP colspan="2"><a href="javascript:loadhelp('WIZ_fix','DNSaddress')" tabindex="-1"><b>域名服务器（DNS）地址 </b></a></td>
</tr>
<tr>
	<TD NOWRAP>首选域名服务器</td>
	<TD NOWRAP align="right" class="num"><input type="text" name="DAddr1" class="num" size="4" maxlength="3" tabindex="21" value="<% field_nvram_get("wan_dns1", ".", "1"); %>" >.<input type="text" name="DAddr2" class="num" size="4" maxlength="3" tabindex="22" value="<% field_nvram_get("wan_dns1", ".", "2"); %>" >.<input type="text" name="DAddr3" class="num" size="4" maxlength="3" tabindex="23" value="<% field_nvram_get("wan_dns1", ".", "3"); %>" >.<input type="text" name="DAddr4" class="num" size="4" maxlength="3" tabindex="24" value="<% field_nvram_get("wan_dns1", ".", "4"); %>" ></td>
</tr>
<tr>
	<TD NOWRAP>备用域名服务器</td>
	<TD NOWRAP align="right" class="num"><input type="text" name="PDAddr1" class="num" size="4" maxlength="3" tabindex="25" value="<% field_nvram_get("wan_dns2", ".", "1"); %>" >.<input type="text" name="PDAddr2" class="num" size="4" maxlength="3" tabindex="26" value="<% field_nvram_get("wan_dns2", ".", "2"); %>" >.<input type="text" name="PDAddr3" class="num" size="4" maxlength="3" tabindex="27" value="<% field_nvram_get("wan_dns2", ".", "3"); %>" >.<input type="text" name="PDAddr4" class="num" size="4" maxlength="3" tabindex="28" value="<% field_nvram_get("wan_dns2", ".", "4"); %>" ></td>
</tr>
<tr> <!-- RULE -->
 <td colspan="2" background="img/liteblue_1.gif" height="12"> &nbsp;</td>
</tr>
<tr>
	<td colspan="2" align="center"><div ID="basbuttons" onmouseover="loadhelp('WIZ_fix','buttons')">
<!--
	<input type="SUBMIT" name="apply" value="Apply" onClick="return checkData()" tabindex="31">
	<input type="BUTTON" name="Cancel" value="Cancel" onClick="loadSettings();" tabindex="32">
	<input type="SUBMIT" name="Test" value="Test" onClick="return checkData()" tabindex="33"></div>
-->

	<input type="SUBMIT" name="Next" value=" 下一步 " onClick="return checkData()">
	<input type="SUBMIT" name="Next" value=" 测试 " onClick="return RunTest()">
		<input type="hidden" name="Button" value="Apply">
		<input type="hidden" name="Button" value="Next">
		<input type="hidden" name="isSmartGui" value="1">
		<input type="hidden" name="action" value="Appyly">
		<input type="hidden" name="FinishWan" value="off">

	</td></tr>
</table>
</form>
<p></p>
</body>
</html>
